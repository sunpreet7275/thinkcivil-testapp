import{a as A,b as z}from"./chunk-E67TY2OS.js";import{b as B,c as D,h as G,i as q}from"./chunk-T4HTITPZ.js";import{a as S}from"./chunk-IL4KFIYR.js";import"./chunk-CIASAIJ4.js";import{a as H}from"./chunk-HS55I5IC.js";import"./chunk-KTA7V4LN.js";import{a as T,g as N,h as j,i as Y}from"./chunk-72GRF44D.js";import{R,S as V}from"./chunk-QFTUPGTJ.js";import{b as w,d as s,f as E,g as O,l as y,o as F,r as k,v as L,x as I}from"./chunk-VZA3E2RV.js";import"./chunk-SGWY5KE3.js";import{c as x,d as P}from"./chunk-E6UXEH7R.js";import"./chunk-VFMXLW2S.js";import{l as b,q as v}from"./chunk-XHE2WULB.js";import{$a as a,Da as h,Hb as t,Ib as n,Jb as d,Rb as M,ac as i,fa as l,lb as C,rb as p,yb as m}from"./chunk-L5KBA6Y7.js";function K(e,r){e&1&&(t(0,"mat-error"),i(1,"Email is required"),n())}function Q(e,r){e&1&&(t(0,"mat-error"),i(1,"Enter a valid email"),n())}function U(e,r){e&1&&(t(0,"mat-error"),i(1,"Password is required"),n())}function W(e,r){e&1&&(t(0,"mat-error"),i(1," Password must be at least 6 characters "),n())}function X(e,r){e&1&&d(0,"mat-spinner",15)}function Z(e,r){e&1&&(t(0,"span"),i(1,"Login"),n())}function $(e,r){e&1&&d(0,"div",16)}var J=class e{fb=l(L);authService=l(S);router=l(x);snackBar=l(H);loginForm;loading=h(!1);constructor(){this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]]})}onSubmit(){this.loginForm.valid&&(this.loading.set(!0),this.authService.login(this.loginForm.value).subscribe({next:r=>{this.authService.setAuthData(r),this.router.navigate(["/dashboard"]),this.snackBar.open("Login successful!","Close",{duration:3e3})},error:r=>{this.loading.set(!1),this.snackBar.open(r.error?.message||"Login failed","Close",{duration:3e3})},complete:()=>{this.loading.set(!1)}}))}static \u0275fac=function(g){return new(g||e)};static \u0275cmp=C({type:e,selectors:[["app-login"]],decls:34,vars:9,consts:[[1,"login-page"],[1,"login-wrapper"],[1,"login-card"],[1,"brand"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["mat-raised-button","","color","primary","type","submit",1,"login-btn",3,"disabled"],["diameter","20",4,"ngIf"],[1,"register-link"],["routerLink","/register"],["routerLink","/landing-page"],["class","demo-credentials",4,"ngIf"],["diameter","20"],[1,"demo-credentials"]],template:function(g,o){if(g&1&&(t(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"h2"),i(5,"ThinkCivil IAS Academy"),n(),t(6,"p"),i(7,"Empowering Civil Aspirants with Technology"),n()(),t(8,"form",4),M("ngSubmit",function(){return o.onSubmit()}),t(9,"mat-form-field",5)(10,"mat-label"),i(11,"Email"),n(),d(12,"input",6),p(13,K,2,0,"mat-error",7)(14,Q,2,0,"mat-error",7),n(),t(15,"mat-form-field",5)(16,"mat-label"),i(17,"Password"),n(),d(18,"input",8),p(19,U,2,0,"mat-error",7)(20,W,2,0,"mat-error",7),n(),t(21,"button",9),p(22,X,1,0,"mat-spinner",10)(23,Z,2,0,"span",7),n()(),t(24,"div",11)(25,"p"),i(26,"Don\u2019t have an account? "),t(27,"a",12),i(28,"Register here"),n()(),t(29,"p"),i(30,"thinkCivil "),t(31,"a",13),i(32,"Go to web"),n()()(),p(33,$,1,0,"div",14),n()()()),g&2){let c,f,u,_;a(8),m("formGroup",o.loginForm),a(5),m("ngIf",(c=o.loginForm.get("email"))==null?null:c.hasError("required")),a(),m("ngIf",(f=o.loginForm.get("email"))==null?null:f.hasError("email")),a(5),m("ngIf",(u=o.loginForm.get("password"))==null?null:u.hasError("required")),a(),m("ngIf",(_=o.loginForm.get("password"))==null?null:_.hasError("minlength")),a(),m("disabled",!o.loginForm.valid||o.loading()),a(),m("ngIf",o.loading()),a(),m("ngIf",!o.loading()),a(10),m("ngIf",!o.loading())}},dependencies:[v,b,I,y,w,E,O,F,k,P,N,T,q,G,B,D,z,A,V,R,Y,j],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#e0f7fa,#e3f2fd,#e8eaf6);font-family:Poppins,sans-serif}.login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:0 20px}.login-card[_ngcontent-%COMP%]{padding:2.5rem;border-radius:20px;box-shadow:0 10px 30px #0000001a;background:#fff;text-align:center;transition:all .3s ease-in-out}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 40px #00000026}.brand[_ngcontent-%COMP%]{margin-bottom:1.5rem}.brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:.5rem}.brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;color:#1565c0;font-weight:600}.brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#616161;font-size:.9rem}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.login-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:linear-gradient(90deg,#42a5f5,#1e88e5);color:#fff;font-weight:600;letter-spacing:.5px;border-radius:8px;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#1e88e5,#1565c0);box-shadow:0 4px 10px #2196f366}.register-link[_ngcontent-%COMP%]{margin-top:1.2rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e88e5;text-decoration:none;font-weight:500}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.demo-credentials[_ngcontent-%COMP%]{margin-top:1rem;background:#f5f5f5;padding:.8rem;border-radius:8px;font-size:.85rem;color:#333}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1565c0}"]})};export{J as LoginComponent};
