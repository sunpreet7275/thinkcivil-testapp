import{a as Q,b as U}from"./chunk-E67TY2OS.js";import{b as $,c as z,h as J,i as K}from"./chunk-T4HTITPZ.js";import{a as I}from"./chunk-PANJKFIH.js";import"./chunk-CIASAIJ4.js";import{a as ee}from"./chunk-HS55I5IC.js";import"./chunk-KTA7V4LN.js";import{a as D,b as G,c as L,d as V,f as j,g as H,h as Y,i as Z}from"./chunk-72GRF44D.js";import{R as W,S as X}from"./chunk-QFTUPGTJ.js";import{b as R,d as l,f as N,g as T,l as q,o as k,r as A,v as B,x as O}from"./chunk-VZA3E2RV.js";import"./chunk-YH6CXKU6.js";import{c as x,d as P}from"./chunk-E6UXEH7R.js";import"./chunk-VFMXLW2S.js";import{l as y,q as F}from"./chunk-XHE2WULB.js";import{$a as o,Da as M,Hb as r,Ib as e,Jb as d,Rb as w,ac as i,fa as u,lb as S,rb as s,yb as m}from"./chunk-L5KBA6Y7.js";function re(t,n){t&1&&(r(0,"mat-error"),i(1," Full name is required "),e())}function ie(t,n){t&1&&(r(0,"mat-error"),i(1," Email is required "),e())}function ne(t,n){t&1&&(r(0,"mat-error"),i(1," Please enter a valid email "),e())}function ae(t,n){t&1&&(r(0,"mat-error"),i(1," Phone number is required "),e())}function oe(t,n){t&1&&(r(0,"mat-error"),i(1," Please enter a valid 10-digit phone number "),e())}function me(t,n){t&1&&(r(0,"mat-error"),i(1," Password is required "),e())}function le(t,n){t&1&&(r(0,"mat-error"),i(1," Password must be at least 6 characters "),e())}function se(t,n){t&1&&(r(0,"mat-error"),i(1," Please confirm your password "),e())}function pe(t,n){t&1&&(r(0,"mat-error"),i(1," Passwords do not match "),e())}function de(t,n){t&1&&d(0,"mat-spinner",14)}function ue(t,n){t&1&&(r(0,"span"),i(1,"Register"),e())}var te=class t{fb=u(B);authService=u(I);router=u(x);snackBar=u(ee);registerForm;loading=M(!1);constructor(){this.registerForm=this.fb.group({fullName:["",[l.required]],email:["",[l.required,l.email]],phone:["",[l.required,l.pattern(/^\d{10}$/)]],password:["",[l.required,l.minLength(6)]],confirmPassword:["",[l.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let p=n.get("password"),a=n.get("confirmPassword");return p&&a&&p.value!==a.value?{passwordMismatch:!0}:null}onSubmit(){this.registerForm.valid&&(this.loading.set(!0),this.authService.register(this.registerForm.value).subscribe({next:n=>{this.authService.setAuthData(n),this.router.navigate(["/dashboard"]),this.snackBar.open("Registration successful!","Close",{duration:3e3})},error:n=>{this.loading.set(!1),this.snackBar.open(n.error?.message||"Registration failed","Close",{duration:3e3})},complete:()=>{this.loading.set(!1)}}))}static \u0275fac=function(p){return new(p||t)};static \u0275cmp=S({type:t,selectors:[["app-register"]],decls:46,vars:13,consts:[[1,"register-container"],[1,"register-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","fullName","placeholder","Enter your full name"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","phone","placeholder","Enter your 10-digit phone number"],["matInput","","formControlName","password","type","password","placeholder","Enter your password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm your password"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"login-link"],["routerLink","/login"],["diameter","20"]],template:function(p,a){if(p&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),i(4,"ThinkCivil IAS Academy"),e(),r(5,"mat-card-subtitle"),i(6,"Create your account"),e()(),r(7,"mat-card-content")(8,"form",2),w("ngSubmit",function(){return a.onSubmit()}),r(9,"mat-form-field",3)(10,"mat-label"),i(11,"Full Name"),e(),d(12,"input",4),s(13,re,2,0,"mat-error",5),e(),r(14,"mat-form-field",3)(15,"mat-label"),i(16,"Email"),e(),d(17,"input",6),s(18,ie,2,0,"mat-error",5)(19,ne,2,0,"mat-error",5),e(),r(20,"mat-form-field",3)(21,"mat-label"),i(22,"Phone Number"),e(),d(23,"input",7),s(24,ae,2,0,"mat-error",5)(25,oe,2,0,"mat-error",5),e(),r(26,"mat-form-field",3)(27,"mat-label"),i(28,"Password"),e(),d(29,"input",8),s(30,me,2,0,"mat-error",5)(31,le,2,0,"mat-error",5),e(),r(32,"mat-form-field",3)(33,"mat-label"),i(34,"Confirm Password"),e(),d(35,"input",9),s(36,se,2,0,"mat-error",5),e(),s(37,pe,2,0,"mat-error",5),r(38,"button",10),s(39,de,1,0,"mat-spinner",11)(40,ue,2,0,"span",5),e()(),r(41,"div",12)(42,"p"),i(43,"Already have an account? "),r(44,"a",13),i(45,"Login here"),e()()()()()()),p&2){let g,f,c,_,h,C,v,E,b;o(8),m("formGroup",a.registerForm),o(5),m("ngIf",(g=a.registerForm.get("fullName"))==null?null:g.hasError("required")),o(5),m("ngIf",(f=a.registerForm.get("email"))==null?null:f.hasError("required")),o(),m("ngIf",(c=a.registerForm.get("email"))==null?null:c.hasError("email")),o(5),m("ngIf",(_=a.registerForm.get("phone"))==null?null:_.hasError("required")),o(),m("ngIf",(h=a.registerForm.get("phone"))==null?null:h.hasError("pattern")),o(5),m("ngIf",(C=a.registerForm.get("password"))==null?null:C.hasError("required")),o(),m("ngIf",(v=a.registerForm.get("password"))==null?null:v.hasError("minlength")),o(5),m("ngIf",(E=a.registerForm.get("confirmPassword"))==null?null:E.hasError("required")),o(),m("ngIf",a.registerForm.hasError("passwordMismatch")&&((b=a.registerForm.get("confirmPassword"))==null?null:b.touched)),o(),m("disabled",!a.registerForm.valid||a.loading()),o(),m("ngIf",a.loading()),o(),m("ngIf",!a.loading())}},dependencies:[F,y,O,q,R,N,T,k,A,P,H,D,L,j,V,G,K,J,$,z,U,Q,X,W,Z,Y],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.register-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px}button[_ngcontent-%COMP%]{height:48px;margin-top:10px}button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})};export{te as RegisterComponent};
